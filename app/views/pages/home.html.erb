<div class="min-h-screen bg-white text-main">
  <div class="relative overflow-hidden">
    <section class="relative z-10 text-white">
      <div class="absolute inset-0 -z-10">
        <%= image_tag "hero.jpg", class: "h-full w-full object-cover opacity-80", alt: t("pages.home.hero_image_alt") %>
        <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/70"></div>
      </div>
      <div class="mx-auto flex max-w-5xl flex-col items-center gap-8 px-6 pb-20 pt-12 text-center md:pt-20">
        <div class="max-w-2xl">
          <p class="text-xs uppercase tracking-[0.35em] text-white/70 font-['Space_Grotesk']">
            <%= t("pages.home.hero_kicker") %>
          </p>
          <h1 class="mt-4 text-3xl font-semibold leading-tight sm:text-4xl md:text-6xl font-['Fraunces']">
            <%= t("pages.home.hero_title_html").html_safe %>
          </h1>
          <p class="mt-6 text-base text-white/80 sm:text-lg">
            <span class="block sm:inline"><%= t("pages.home.hero_description_line1") %></span>
            <span class="block sm:inline"><%= t("pages.home.hero_description_line2") %></span>
          </p>
          <% unless user_signed_in? %>
            <div class="mt-8 flex flex-col items-center gap-3 sm:flex-row sm:justify-center">
              <%= link_to t("pages.home.cta_signup"), new_user_registration_path, class: "btn-primary" %>
              <%= link_to t("pages.home.cta_login"), new_user_session_path, class: "btn-outline" %>
            </div>
          <% end %>
          <div class="mt-8 flex justify-center">
            <% if user_signed_in? %>
              <%= search_form_for @q, url: products_path, method: :get, class: "flex w-full max-w-xl flex-col gap-3 sm:flex-row sm:items-center" do |f| %>
                <%= f.text_field :name_or_brand_or_flavor_or_tags_name_cont,
                  placeholder: t("pages.home.search_placeholder"),
                  class: "w-full rounded-lg border border-base bg-white text-base text-main placeholder:text-stone-400 sm:w-[420px]",
                  data: { controller: "tagify", tagify_url_value: autocomplete_search_path, tagify_mode_value: "search", tagify_class_value: "w-full text-left" } %>
                <%= f.submit t("pages.home.search_submit"), class: "btn-primary h-11 w-full px-8 sm:w-auto" %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </section>
  </div>

  <main class="bg-white text-main">
    <% if user_signed_in? && @recommended_products.present? %>
      <section class="border-t border-base py-16">
        <div class="mx-auto max-w-7xl px-6">
          <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
            <div>
              <p class="text-sm font-semibold text-brand"><%= t("pages.home.recommendations_kicker") %></p>
              <h2 class="mt-3 text-3xl font-semibold font-['Fraunces']">
                <%= t("pages.home.recommendations_title") %>
              </h2>
            </div>
            <p class="text-sm text-stone-500"><%= t("pages.home.recommendations_note") %></p>
          </div>
          <div class="mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            <%= render partial: "products/recommendation_card", collection: @recommended_products, as: :product %>
          </div>
        </div>
      </section>
    <% end %>

    <section id="about" class="py-20">
      <div class="mx-auto grid max-w-7xl gap-12 px-6 md:grid-cols-2">
        <div>
          <p class="text-sm font-semibold text-brand"><%= t("pages.home.about_kicker") %></p>
          <h2 class="mt-4 text-3xl font-semibold leading-tight font-['Fraunces']">
            <%= t("pages.home.about_title") %>
          </h2>
          <p class="mt-6 text-lg text-stone-700">
            <%= t("pages.home.about_description") %>
          </p>
        </div>
        <div class="grid gap-6">
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-sm text-stone-500"><%= t("pages.home.about_card1_kicker") %></p>
            <p class="mt-2 text-lg font-semibold"><%= t("pages.home.about_card1_title") %></p>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.about_card1_body") %></p>
          </div>
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-sm text-stone-500"><%= t("pages.home.about_card2_kicker") %></p>
            <p class="mt-2 text-lg font-semibold"><%= t("pages.home.about_card2_title") %></p>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.about_card2_body") %></p>
          </div>
        </div>
      </div>
    </section>

    <section id="how" class="border-t border-base py-20">
      <div class="mx-auto max-w-7xl px-6">
        <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
          <div>
            <p class="text-sm font-semibold text-brand"><%= t("pages.home.how_kicker") %></p>
            <h2 class="mt-3 text-3xl font-semibold font-['Fraunces']"><%= t("pages.home.how_title") %></h2>
          </div>
          <p class="text-sm text-stone-500"><%= t("pages.home.how_note") %></p>
        </div>
        <ol class="mt-10 grid gap-6 md:grid-cols-3">
          <li class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-xs font-semibold text-brand"><%= t("pages.home.how_step1_label") %></p>
            <h3 class="mt-2 text-lg font-semibold"><%= t("pages.home.how_step1_title") %></h3>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.how_step1_body") %></p>
          </li>
          <li class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-xs font-semibold text-brand"><%= t("pages.home.how_step2_label") %></p>
            <h3 class="mt-2 text-lg font-semibold"><%= t("pages.home.how_step2_title") %></h3>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.how_step2_body") %></p>
          </li>
          <li class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-xs font-semibold text-brand"><%= t("pages.home.how_step3_label") %></p>
            <h3 class="mt-2 text-lg font-semibold"><%= t("pages.home.how_step3_title") %></h3>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.how_step3_body") %></p>
          </li>
        </ol>
      </div>
    </section>

    <section id="features" class="border-t border-base py-20">
      <div class="mx-auto max-w-7xl px-6">
        <div class="max-w-2xl">
          <p class="text-sm font-semibold text-brand"><%= t("pages.home.features_kicker") %></p>
          <h2 class="mt-3 text-3xl font-semibold font-['Fraunces']"><%= t("pages.home.features_title") %></h2>
          <p class="mt-4 text-sm text-stone-600">
            <%= t("pages.home.features_description") %>
          </p>
        </div>
        <div class="mt-10 grid gap-6 md:grid-cols-3">
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <h3 class="text-lg font-semibold"><%= t("pages.home.features_card1_title") %></h3>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.features_card1_body") %></p>
          </div>
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <h3 class="text-lg font-semibold"><%= t("pages.home.features_card2_title") %></h3>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.features_card2_body") %></p>
          </div>
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <h3 class="text-lg font-semibold"><%= t("pages.home.features_card3_title") %></h3>
            <p class="mt-3 text-sm text-stone-600"><%= t("pages.home.features_card3_body") %></p>
          </div>
        </div>
      </div>
    </section>

    <section class="border-t border-base py-20">
      <div class="mx-auto max-w-7xl px-6">
        <div class="rounded-3xl bg-brand px-6 py-12 text-white shadow-sm md:px-12">
          <div class="grid gap-8 md:grid-cols-[1.2fr_0.8fr] md:items-center">
            <div>
              <p class="text-sm font-semibold text-white/90"><%= t("pages.home.cta_kicker") %></p>
              <h2 class="mt-4 text-3xl font-semibold leading-tight font-['Fraunces']">
                <%= t("pages.home.cta_title") %>
              </h2>
              <p class="mt-4 text-sm text-white/80">
                <%= t("pages.home.cta_description") %>
              </p>
            </div>
            <% unless user_signed_in? %>
              <div class="flex flex-col gap-3">
                <%= link_to t("pages.home.cta_signup_long"), new_user_registration_path, class: "rounded-lg bg-white px-6 py-3 text-center text-sm font-semibold text-brand transition hover:bg-white/90" %>
                <%= link_to t("pages.home.cta_login"), new_user_session_path, class: "rounded-lg bg-brand-dark px-6 py-3 text-center text-sm font-semibold text-white transition hover:bg-brand-light" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>
