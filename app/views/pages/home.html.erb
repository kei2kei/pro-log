<div class="min-h-screen bg-white text-main">
  <div class="relative overflow-hidden">
    <section class="relative z-10 text-white">
      <div class="absolute inset-0 -z-10">
        <%= image_tag "hero.jpg", class: "h-full w-full object-cover opacity-80", alt: "プロテインとトレーニングのイメージ" %>
        <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/70"></div>
      </div>
      <div class="mx-auto flex max-w-5xl flex-col items-center gap-8 px-6 pb-20 pt-12 text-center md:pt-20">
        <div class="max-w-2xl">
          <p class="text-xs uppercase tracking-[0.35em] text-white/70 font-['Space_Grotesk']">
            Protein review platform
          </p>
          <h1 class="mt-4 text-3xl font-semibold leading-tight sm:text-4xl md:text-6xl font-['Fraunces']">
            Find your <span class="text-accent">perfect protein</span>
          </h1>
          <p class="mt-6 text-base text-white/80 sm:text-lg">
            <span class="block sm:inline">甘さ・濃さ・溶けやすさなど、味の6軸でプロテインを見える化。</span>
            <span class="block sm:inline">自分に合う一杯を、迷わず選べるレビューサイトです。</span>
          </p>
          <% unless user_signed_in? %>
            <div class="mt-8 flex flex-col items-center gap-3 sm:flex-row sm:justify-center">
              <%= link_to "会員登録する", new_user_registration_path, class: "btn-primary" %>
              <%= link_to "ログイン", new_user_session_path, class: "btn-outline" %>
            </div>
          <% end %>
          <div class="mt-8 flex justify-center">
            <% if user_signed_in? %>
              <%= search_form_for @q, url: products_path, method: :get, class: "flex w-full max-w-xl flex-col gap-3 sm:flex-row sm:items-center" do |f| %>
                <%= f.text_field :name_or_brand_or_flavor_or_tags_name_cont,
                  placeholder: "商品名、ブランド名、フレーバー など",
                  class: "h-12 w-full rounded-lg border border-base bg-white px-5 text-base font-normal text-main placeholder:text-stone-400 sm:h-14 sm:w-[420px]" %>
                <%= f.submit "検索", class: "btn-primary h-12 w-full px-8 sm:h-14 sm:w-auto" %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </section>
  </div>

  <main class="bg-white text-main">
    <% if user_signed_in? && @recommended_products.present? %>
      <section class="border-t border-base py-16">
        <div class="mx-auto max-w-7xl px-6">
          <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
            <div>
              <p class="text-sm font-semibold text-brand">あなたへのオススメ</p>
              <h2 class="mt-3 text-3xl font-semibold font-['Fraunces']">
                好みに近いプロテインを3つピックアップ
              </h2>
            </div>
            <p class="text-sm text-stone-500">レビュー傾向から自動で選定しています。</p>
          </div>
          <div class="mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
            <%= render partial: "products/recommendation_card", collection: @recommended_products, as: :product %>
          </div>
        </div>
      </section>
    <% end %>

    <section id="about" class="py-20">
      <div class="mx-auto grid max-w-7xl gap-12 px-6 md:grid-cols-2">
        <div>
          <p class="text-sm font-semibold text-brand">Pro-logとは？</p>
          <h2 class="mt-4 text-3xl font-semibold leading-tight font-['Fraunces']">
            味の曖昧さを、数値でほどく。
          </h2>
          <p class="mt-6 text-lg text-stone-700">
            口コミの「美味しい」だけでは分かりにくい味覚の差を、甘さ・濃さ・後味・香り・溶けやすさ・泡立ちで数値化。
            自分好みのプロテインを、比較しながら選べます。
          </p>
        </div>
        <div class="grid gap-6">
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-sm text-stone-500">可視化</p>
            <p class="mt-2 text-lg font-semibold">6軸のスコアで味を比較</p>
            <p class="mt-3 text-sm text-stone-600">甘さ・濃さ・後味などを数値化して、違いが直感的に分かります。</p>
          </div>
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-sm text-stone-500">探しやすさ</p>
            <p class="mt-2 text-lg font-semibold">検索とタグで好みを発見</p>
            <p class="mt-3 text-sm text-stone-600">甘さ控えめ、溶けやすい、泡立ち少なめなど、条件で絞り込み可能。</p>
          </div>
        </div>
      </div>
    </section>

    <section id="how" class="border-t border-base py-20">
      <div class="mx-auto max-w-7xl px-6">
        <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
          <div>
            <p class="text-sm font-semibold text-brand">使い方</p>
            <h2 class="mt-3 text-3xl font-semibold font-['Fraunces']">3ステップで好みを発見</h2>
          </div>
          <p class="text-sm text-stone-500">レビュー投稿は会員登録後すぐに使えます。</p>
        </div>
        <ol class="mt-10 grid gap-6 md:grid-cols-3">
          <li class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-xs font-semibold text-brand">Step 1</p>
            <h3 class="mt-2 text-lg font-semibold">商品を探す</h3>
            <p class="mt-3 text-sm text-stone-600">キーワードやタグから、気になるプロテインを検索。</p>
          </li>
          <li class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-xs font-semibold text-brand">Step 2</p>
            <h3 class="mt-2 text-lg font-semibold">味の6軸を確認</h3>
            <p class="mt-3 text-sm text-stone-600">甘さ・濃さなどのスコアで比較できます。</p>
          </li>
          <li class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <p class="text-xs font-semibold text-brand">Step 3</p>
            <h3 class="mt-2 text-lg font-semibold">レビューを投稿</h3>
            <p class="mt-3 text-sm text-stone-600">実際に飲んだ感想を数値とコメントで共有。</p>
          </li>
        </ol>
      </div>
    </section>

    <section id="features" class="border-t border-base py-20">
      <div class="mx-auto max-w-7xl px-6">
        <div class="max-w-2xl">
          <p class="text-sm font-semibold text-brand">特徴</p>
          <h2 class="mt-3 text-3xl font-semibold font-['Fraunces']">「比較しやすさ」を第一に</h2>
          <p class="mt-4 text-sm text-stone-600">
            迷いやすいプロテイン選びを、データとレビューでスムーズにします。
          </p>
        </div>
        <div class="mt-10 grid gap-6 md:grid-cols-3">
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <h3 class="text-lg font-semibold">6軸スコア</h3>
            <p class="mt-3 text-sm text-stone-600">味の印象を具体的に伝える数値評価。</p>
          </div>
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <h3 class="text-lg font-semibold">ブックマーク</h3>
            <p class="mt-3 text-sm text-stone-600">気になる商品を保存して後で見返せます。</p>
          </div>
          <div class="rounded-2xl border border-base bg-white p-6 shadow-sm">
            <h3 class="text-lg font-semibold">Xシェア</h3>
            <p class="mt-3 text-sm text-stone-600">レビューを共有して仲間と好みを交換。</p>
          </div>
        </div>
      </div>
    </section>

    <section class="border-t border-base py-20">
      <div class="mx-auto max-w-7xl px-6">
        <div class="rounded-3xl bg-brand px-6 py-12 text-white shadow-sm md:px-12">
          <div class="grid gap-8 md:grid-cols-[1.2fr_0.8fr] md:items-center">
            <div>
              <p class="text-sm font-semibold text-white/90">今すぐ試す</p>
              <h2 class="mt-4 text-3xl font-semibold leading-tight font-['Fraunces']">
                自分好みのプロテインを、今日から。
              </h2>
              <p class="mt-4 text-sm text-white/80">
                レビューを見て選ぶだけでなく、あなたの評価も誰かの助けになります。
              </p>
            </div>
            <% unless user_signed_in? %>
              <div class="flex flex-col gap-3">
                <%= link_to "会員登録して始める", new_user_registration_path, class: "rounded-lg bg-white px-6 py-3 text-center text-sm font-semibold text-brand transition hover:bg-white/90" %>
                <%= link_to "ログイン", new_user_session_path, class: "rounded-lg bg-brand-dark px-6 py-3 text-center text-sm font-semibold text-white transition hover:bg-brand-light" %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>
