<div class="rounded-3xl border border-base bg-white p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md">
  <% axis_labels = {
    sweetness: ["甘くない", "やや甘くない", "普通", "やや甘め", "甘め"],
    richness: ["薄め", "やや薄め", "普通", "やや濃いめ", "濃いめ"],
    aftertaste: ["スッキリ", "ややスッキリ", "普通", "やや重め", "重い"],
    flavor_score: ["香りはしない", "香り控えめ", "普通", "やや香り豊か", "香り豊か"],
    solubility: ["溶けにくい", "やや溶けにくい", "普通", "やや溶けやすい", "溶けやすい"],
    foam: ["泡立ちにくい", "やや泡立ちにくい", "普通", "やや泡立つ", "泡立つ"]
  } %>
  <%= link_to review_path(review), class: "block" do %>
    <div class="flex flex-wrap items-center gap-4 border-b border-base pb-4">
      <div class="h-16 w-16 overflow-hidden rounded-2xl bg-stone-100">
        <% if review.product.image_url.present? %>
          <%= image_tag review.product.image_url,
            class: "h-full w-full object-cover",
            alt: review.product.name %>
        <% else %>
          <div class="flex h-full w-full items-center justify-center text-xs text-stone-400">
            No Image
          </div>
        <% end %>
      </div>
      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.2em] text-brand">レビューした商品</p>
        <p class="mt-1 text-base font-semibold text-stone-900"><%= review.product.name %></p>
        <div class="flex flex-wrap items-center gap-2 text-sm text-stone-500">
          <span><%= review.product.brand %></span>
          <% if review.product.flavor.present? %>
            <span class="text-stone-400">/</span>
            <span><%= review.product.flavor %></span>
          <% end %>
        </div>
      </div>
    </div>

    <div class="mt-4 space-y-3">
      <div class="flex flex-wrap items-center gap-3 text-sm">
        <span class="font-semibold text-stone-700">総合満足度</span>
        <span class="text-accent"><%= "★" * review.overall_score %><%= "☆" * (5 - review.overall_score) %></span>
        <span class="text-sm font-semibold text-stone-900"><%= review.overall_score %>.0/5.0</span>
      </div>
      <% if review.title.present? %>
        <div class="text-sm text-stone-600">
          <span class="font-semibold text-stone-700">レビュータイトル：</span>
          <%= review.title %>
        </div>
      <% end %>
      <div class="text-sm text-stone-600">
        <span class="font-semibold text-stone-700">内訳：</span>
        甘さ：<%= axis_labels[:sweetness][review.sweetness.to_i - 1] %> /
        濃さ：<%= axis_labels[:richness][review.richness.to_i - 1] %> /
        後味：<%= axis_labels[:aftertaste][review.aftertaste.to_i - 1] %> /
        風味：<%= axis_labels[:flavor_score][review.flavor_score.to_i - 1] %> /
        溶けやすさ：<%= axis_labels[:solubility][review.solubility.to_i - 1] %> /
        泡立ち：<%= axis_labels[:foam][review.foam.to_i - 1] %>
      </div>
      <% if review.comment.present? %>
        <div class="text-sm text-stone-600">
          <span class="font-semibold text-stone-700">コメント：</span>
          <%= review.comment %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
