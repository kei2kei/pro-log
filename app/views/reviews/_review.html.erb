<div class="rounded-3xl border border-base bg-white p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md">
  <% axis_labels = {
    sweetness: ["甘くない", "やや甘くない", "普通", "やや甘め", "甘め"],
    richness: ["薄め", "やや薄め", "普通", "やや濃いめ", "濃いめ"],
    aftertaste: ["スッキリ", "ややスッキリ", "普通", "やや重め", "重い"],
    flavor_score: ["香りはしない", "香り控えめ", "普通", "やや香り豊か", "香り豊か"],
    solubility: ["溶けにくい", "やや溶けにくい", "普通", "やや溶けやすい", "溶けやすい"],
    foam: ["泡立ちにくい", "やや泡立ちにくい", "普通", "やや泡立つ", "泡立つ"]
  } %>
  <div class="flex items-start justify-between gap-4">
    <%= link_to review_path(review), class: "block flex-1" do %>
      <div class="grid gap-6 md:grid-cols-[140px_1fr]">
        <div class="text-center">
          <% if review.user.avatar.attached? %>
            <%= image_tag review.user.avatar.variant(resize_to_fill: [96, 96]), class: "mx-auto h-24 w-24 rounded-full object-cover", alt: review.user.username %>
          <% else %>
            <div class="mx-auto flex h-24 w-24 items-center justify-center rounded-full bg-stone-200 text-sm font-semibold text-stone-600">
              <%= review.user.username.to_s.first&.upcase || "U" %>
            </div>
          <% end %>
          <p class="mt-3 text-sm font-semibold text-stone-700"><%= review.user.username %></p>
        </div>
        <div class="space-y-3">
          <div class="flex flex-wrap items-center gap-3 text-sm">
            <span class="font-semibold text-stone-700">総合満足度</span>
            <span class="text-accent"><%= "★" * review.overall_score %><%= "☆" * (5 - review.overall_score) %></span>
            <span class="text-sm font-semibold text-stone-900"><%= review.overall_score %>.0/5.0</span>
          </div>
          <div class="text-sm text-stone-600">
            <span class="font-semibold text-stone-700">内訳：</span>
            甘さ：<%= axis_labels[:sweetness][review.sweetness.to_i - 1] %> /
            濃さ：<%= axis_labels[:richness][review.richness.to_i - 1] %> /
            後味：<%= axis_labels[:aftertaste][review.aftertaste.to_i - 1] %> /
            風味：<%= axis_labels[:flavor_score][review.flavor_score.to_i - 1] %> /
            溶けやすさ：<%= axis_labels[:solubility][review.solubility.to_i - 1] %> /
            泡立ち：<%= axis_labels[:foam][review.foam.to_i - 1] %>
          </div>
          <% if review.comment.present? %>
            <div class="text-sm text-stone-600">
              <span class="font-semibold text-stone-700">コメント：</span>
              <%= review.comment %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
    <div class="shrink-0 pt-1">
      <%= render "shared/like_buttons", review: review %>
    </div>
  </div>
</div>
