<div class="rounded-3xl border border-base bg-white p-6 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md">
  <div class="flex items-start justify-between gap-4">
    <%= link_to review_path(review), class: "block flex-1" do %>
      <div class="grid gap-6 md:grid-cols-[140px_1fr]">
        <div class="text-center">
          <% if review.user.avatar.attached? %>
            <%= image_tag review.user.avatar.variant(resize_to_fill: [96, 96]), class: "mx-auto h-24 w-24 rounded-full object-cover", alt: review.user.username %>
          <% else %>
            <div class="mx-auto flex h-24 w-24 items-center justify-center rounded-full bg-stone-200 text-sm font-semibold text-stone-600">
              <%= review.user.username.to_s.first&.upcase || "U" %>
            </div>
          <% end %>
          <p class="mt-3 text-sm font-semibold text-stone-700"><%= review.user.username %></p>
        </div>
        <div class="space-y-3">
          <div class="flex flex-wrap items-center gap-3 text-sm">
            <span class="font-semibold text-stone-700">総合満足度</span>
            <span class="text-accent"><%= "★" * review.overall_score %><%= "☆" * (5 - review.overall_score) %></span>
            <span class="text-sm font-semibold text-stone-900"><%= review.overall_score %>.0/5.0</span>
          </div>
          <div class="text-sm text-stone-600">
            <span class="font-semibold text-stone-700">内訳：</span>
            甘さ：<%= review.sweetness %> / 濃さ：<%= review.richness %> / 後味：<%= review.aftertaste %> / 風味：<%= review.flavor_score %> / 溶けやすさ：<%= review.solubility %> / 泡立ち：<%= review.foam %>
          </div>
          <% if review.comment.present? %>
            <div class="text-sm text-stone-600">
              <span class="font-semibold text-stone-700">コメント：</span>
              <%= review.comment %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
    <div class="shrink-0 pt-1">
      <%= render "shared/like_buttons", review: review %>
    </div>
  </div>
</div>
