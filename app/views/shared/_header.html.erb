<header class="relative z-10 border-b border-base bg-white text-main">
  <div class="mx-auto flex max-w-7xl items-center justify-between px-6 py-5">
    <div class="flex items-center gap-8">
      <%= link_to root_path, class: "flex items-center gap-2" do %>
        <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-brand text-white font-semibold">
          PL
        </div>
        <span class="text-lg font-semibold tracking-wide font-['Space_Grotesk']">Pro-log</span>
      <% end %>

      <nav class="hidden items-center gap-8 text-sm font-medium text-stone-600 md:flex">
        <%= link_to "使い方", about_path, class: "transition hover:text-main" %>
        <%= link_to "ランキング", ranking_path, class: "transition hover:text-main" %>
        <% if user_signed_in? %>
          <%= link_to "プロテイン一覧", products_path, class: "transition hover:text-main" %>
          <%= link_to "マイページ", profile_path, class: "transition hover:text-main" %>
        <% end %>
      </nav>
    </div>

    <div class="flex items-center gap-3">
      <% if user_signed_in? %>
        <%= link_to profile_path, class: "flex items-center" do %>
          <% if current_user.avatar.attached? %>
            <%= image_tag current_user.avatar.variant(resize_to_fill: [36, 36]), class: "h-9 w-9 rounded-full border border-base object-cover", alt: "ユーザーアバター" %>
          <% else %>
            <div class="flex h-9 w-9 items-center justify-center rounded-full border border-base text-xs font-semibold text-stone-600">
              <%= current_user.username.to_s.first&.upcase || "U" %>
            </div>
          <% end %>
        <% end %>
        <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "rounded-lg border border-base px-4 py-2 text-sm font-semibold text-stone-600 transition hover:border-stone-300" %>
      <% else %>
        <%= link_to "ログイン", new_user_session_path, class: "btn-primary" %>
        <%= link_to "会員登録", new_user_registration_path, class: "btn-outline" %>
      <% end %>
    </div>
  </div>
</header>
