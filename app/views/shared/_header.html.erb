<header class="relative z-10 bg-stone-950 text-white">
  <div class="mx-auto flex max-w-6xl items-center justify-between px-6 py-6">
    <div class="flex items-center">
      <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-400 text-stone-950 font-semibold">
        PL
      </div>
      <span class="text-lg font-semibold tracking-wide font-['Space_Grotesk'] mx-2">Pro-log</span>
    </div>

    <nav class="hidden items-center gap-8 text-sm font-medium text-white/80 md:flex">
      <%= link_to "使い方", root_path(anchor: "how"), class: "transition hover:text-white" %>
      <%= link_to "Pro-logとは", root_path(anchor: "about"), class: "transition hover:text-white" %>
      <%= link_to "特徴", root_path(anchor: "features"), class: "transition hover:text-white" %>
      <% if user_signed_in? %>
        <%= link_to "プロテイン一覧", products_path, class: "transition hover:text-white" %>
        <%= link_to "マイページ", profile_path, class: "transition hover:text-white" %>
      <% end %>
    </nav>

    <div class="flex items-center gap-3">
      <% if user_signed_in? %>
        <% if current_user.avatar.attached? %>
          <%= image_tag current_user.avatar.variant(resize_to_fill: [36, 36]), class: "h-9 w-9 rounded-full border border-white/20 object-cover", alt: "ユーザーアバター" %>
        <% else %>
          <div class="flex h-9 w-9 items-center justify-center rounded-full border border-white/20 text-xs font-semibold text-white/80">
            <%= current_user.username.to_s.first&.upcase || "U" %>
          </div>
        <% end %>
        <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "rounded-full border border-white/30 px-4 py-2 text-sm font-semibold transition hover:border-white hover:bg-white/10" %>
      <% else %>
        <%= link_to "ログイン", new_user_session_path, class: "rounded-full border border-white/30 px-4 py-2 text-sm font-semibold transition hover:border-white hover:bg-white/10" %>
        <%= link_to "会員登録", new_user_registration_path, class: "rounded-full bg-emerald-400 px-4 py-2 text-sm font-semibold text-stone-950 transition hover:bg-emerald-300" %>
      <% end %>
    </div>
  </div>
</header>
